#!/usr/bin/env ruby
$LOAD_PATH.unshift File.join(File.dirname(__FILE__), '..', 'lib')
require 'smooth'

layout  = File.expand_path('layout.haml')
content = File.expand_path('content.haml')
result_dir  = File.expand_path('out')
result_file = File.join(result_dir, 'index.html')

unless File.exist? layout
  puts "please create layout.haml"
  puts layout
  exit 1
end

unless File.exist? content
  puts "please create content.haml"
  exit 1
end

unless Dir.exists? result_dir
  Dir.mkdir(result_dir)
end

base = Smooth::Base.new(File.read(layout))
puts base.render(File.read(content))
