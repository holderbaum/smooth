#!/usr/bin/env ruby
$LOAD_PATH.unshift File.join(File.dirname(__FILE__), '..', 'lib')
require 'smooth'

template = Pathname.new File.expand_path('template.haml')

unless template.exist?
  puts "please create content.haml"
  exit 1
end

renderer = Smooth::Renderer.new(template.read)

Smooth::Helpers.constants.each do |const|
  renderer.register_helpers Smooth::Helpers.const_get(const)  
end

puts renderer.result

